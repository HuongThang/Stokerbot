<SCRIPT SRC='/loader.js'></SCRIPT>
<script src='/microajax.js'></script>
<script>
menu(2,1);

function save(id) {
	console.log(id);

	var S = document.getElementById("S"+id).value;
	var T = document.getElementById("T"+id).value;
	var V = document.getElementById("V"+id).value;
	var D = document.getElementById("D"+id).value;
	var P = document.getElementById("P"+id).value;
	var R = (document.getElementById("R"+id).checked)?1:0;
	var E = (document.getElementById("E"+id).checked)?1:0;
	var url = '?alarmid=' + id + '&S=' + S + '&T=' + T + '&V=' + V + '&D=' + D + '&P=' + P + '&R=' + R + '&E=' + E;
	
	microAjax("/settings/savealarm"+url, function (res) {
	  document.getElementById("btn"+id).value = "Saving...";
	  if (res == 'SAVED')
	  {
		document.getElementById("btn"+id).value = "Saved";
	  }
	});
}

dw('<table border=1>');
dw('<thead><tr><td>Source</td><td>Type</td><td>Value</td><td>Output</td><td>Output state</td><td>Reverse</td><td>Enable</td></tr></thead>');
for (var alarm=1; alarm<=8; alarm++)
	showAlarm(alarm);

dw('</table>');
</script>